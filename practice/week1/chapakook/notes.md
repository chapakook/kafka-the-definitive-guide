# 📝 Week 1 실습 기록
주제: 토픽 / 파티션 / 복제 구조 이해

### 🎯 실습 목표

- 파티션 수와 파티션 키에 따라 메시지가 어떻게 분산되는지 확인
- 리더/팔로워 구조를 직접 눈으로 확인

### 🧪 시도한 것

- 파티션 3개 토픽 생성
- 키 있는 메시지 / 없는 메시지 전송
- 브로커 설정 기본값 유지 (KRaft 단일 노드)

```bash
kafka-topics.sh --bootstrap-server localhost:9092 \
  --create --topic test-topic \
  --partitions 3 --replication-factor 1
```

### 👀 관찰 결과

- key 없이 전송한 메시지는 파티션에 라운드로빈으로 분산됨
- 같은 key로 전송한 메시지는 항상 같은 파티션으로 들어감
- 단일 브로커 환경이라 리더/팔로워 차이는 확인 불가

### 🤔 헷갈렸던 점 / 막힌 부분

- 파티션 수를 늘리면 기존 메시지의 파티션은 바뀌지 않는다는 점
- 파티션 키를 언제 꼭 써야 하는지 아직 감이 안 옴

### 🧠 현재 이해 (임시 결론)

- 파티션 키는 순서 보장이 필요한 경우 필수
- 파티션 수는 초기에 넉넉히 잡는 게 안전해 보임
- 단일 브로커 환경에서는 복제 관련 판단은 제한적

### ❓ 질문 / 다음에 확인하고 싶은 것

- 파티션을 늘렸을 때 consumer group에는 어떤 영향이 있을까?
- 멀티 브로커 환경에서는 리더 선출이 어떻게 달라질까?

